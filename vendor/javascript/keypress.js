import e from"buffer";var a={};var r={exports:a};var t=e.Buffer;var a=r.exports=keypress;a.enableMouse=function(e){e.write(""+"[?1000h")};a.disableMouse=function(e){e.write(""+"[?1000l")};function keypress(e){if(!isEmittingKeypress(e)){e._emitKeypress=true;e.listeners("keypress").length>0?e.on("data",onData):e.on("newListener",onNewListener)}function onData(a){if(e.listeners("keypress").length>0)emitKey(e,a);else{e.removeListener("data",onData);e.on("newListener",onNewListener)}}function onNewListener(a){if("keypress"==a){e.on("data",onData);e.removeListener("newListener",onNewListener)}}}function isEmittingKeypress(e){var a=e._emitKeypress;a||e.listeners("data").forEach((function(r){if("onData"==r.name&&/emitKey/.test(r.toString())){a=true;e._emitKeypress=true}}));a||e.listeners("newListener").forEach((function(r){if("onNewListener"==r.name&&/keypress/.test(r.toString())){a=true;e._emitKeypress=true}}));return a}var n=/^(?:\x1b)([a-zA-Z0-9])$/;var s=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/;function emitKey(e,a){var r,c={name:void 0,ctrl:false,meta:false,shift:false},m;if(t.isBuffer(a))if(a[0]>127&&void 0===a[1]){a[0]-=128;a=""+a.toString(e.encoding||"utf-8")}else a=a.toString(e.encoding||"utf-8");c.sequence=a;if("\r"===a||"\n"===a)c.name="enter";else if("\t"===a)c.name="tab";else if("\b"===a||""===a||""===a||"\b"===a){c.name="backspace";c.meta=""===a.charAt(0)}else if(""===a||""===a){c.name="escape";c.meta=2===a.length}else if(" "===a||" "===a){c.name="space";c.meta=2===a.length}else if(a<=""){c.name=String.fromCharCode(a.charCodeAt(0)+"a".charCodeAt(0)-1);c.ctrl=true}else if(1===a.length&&a>="a"&&a<="z")c.name=a;else if(1===a.length&&a>="A"&&a<="Z"){c.name=a.toLowerCase();c.shift=true}else if(m=n.exec(a)){c.name=m[1].toLowerCase();c.meta=true;c.shift=/^[A-Z]$/.test(m[1])}else if(m=s.exec(a)){var i=(m[1]||"")+(m[2]||"")+(m[4]||"")+(m[6]||""),f=(m[3]||m[5]||1)-1;c.ctrl=!!(4&f);c.meta=!!(10&f);c.shift=!!(1&f);c.code=i;switch(i){case"OP":c.name="f1";break;case"OQ":c.name="f2";break;case"OR":c.name="f3";break;case"OS":c.name="f4";break;case"[11~":c.name="f1";break;case"[12~":c.name="f2";break;case"[13~":c.name="f3";break;case"[14~":c.name="f4";break;case"[[A":c.name="f1";break;case"[[B":c.name="f2";break;case"[[C":c.name="f3";break;case"[[D":c.name="f4";break;case"[[E":c.name="f5";break;case"[15~":c.name="f5";break;case"[17~":c.name="f6";break;case"[18~":c.name="f7";break;case"[19~":c.name="f8";break;case"[20~":c.name="f9";break;case"[21~":c.name="f10";break;case"[23~":c.name="f11";break;case"[24~":c.name="f12";break;case"[A":c.name="up";break;case"[B":c.name="down";break;case"[C":c.name="right";break;case"[D":c.name="left";break;case"[E":c.name="clear";break;case"[F":c.name="end";break;case"[H":c.name="home";break;case"OA":c.name="up";break;case"OB":c.name="down";break;case"OC":c.name="right";break;case"OD":c.name="left";break;case"OE":c.name="clear";break;case"OF":c.name="end";break;case"OH":c.name="home";break;case"[1~":c.name="home";break;case"[2~":c.name="insert";break;case"[3~":c.name="delete";break;case"[4~":c.name="end";break;case"[5~":c.name="pageup";break;case"[6~":c.name="pagedown";break;case"[[5~":c.name="pageup";break;case"[[6~":c.name="pagedown";break;case"[7~":c.name="home";break;case"[8~":c.name="end";break;case"[a":c.name="up";c.shift=true;break;case"[b":c.name="down";c.shift=true;break;case"[c":c.name="right";c.shift=true;break;case"[d":c.name="left";c.shift=true;break;case"[e":c.name="clear";c.shift=true;break;case"[2$":c.name="insert";c.shift=true;break;case"[3$":c.name="delete";c.shift=true;break;case"[5$":c.name="pageup";c.shift=true;break;case"[6$":c.name="pagedown";c.shift=true;break;case"[7$":c.name="home";c.shift=true;break;case"[8$":c.name="end";c.shift=true;break;case"Oa":c.name="up";c.ctrl=true;break;case"Ob":c.name="down";c.ctrl=true;break;case"Oc":c.name="right";c.ctrl=true;break;case"Od":c.name="left";c.ctrl=true;break;case"Oe":c.name="clear";c.ctrl=true;break;case"[2^":c.name="insert";c.ctrl=true;break;case"[3^":c.name="delete";c.ctrl=true;break;case"[5^":c.name="pageup";c.ctrl=true;break;case"[6^":c.name="pagedown";c.ctrl=true;break;case"[7^":c.name="home";c.ctrl=true;break;case"[8^":c.name="end";c.ctrl=true;break;case"[Z":c.name="tab";c.shift=true;break;default:c.name="undefined";break}}else if(a.length>1&&""!==a[0]){Array.prototype.forEach.call(a,(function(a){emitKey(e,a)}));return}if("[M"==c.code){c.name="mouse";var a=c.sequence;var o=a.charCodeAt(3);c.x=a.charCodeAt(4)-32;c.y=a.charCodeAt(5)-32;c.scroll=0;c.ctrl=!!(1<<4&o);c.meta=!!(1<<3&o);c.shift=!!(1<<2&o);c.release=3===(3&o);1<<6&o&&(c.scroll=1&o?1:-1);c.release||c.scroll||(c.button=3&o)}void 0===c.name&&(c=void 0);1===a.length&&(r=a);c&&"mouse"==c.name?e.emit("mousepress",c):(c||r)&&e.emit("keypress",r,c)}var c=r.exports;const m=r.exports.enableMouse,i=r.exports.disableMouse;export default c;export{i as disableMouse,m as enableMouse};

